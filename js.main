// main.js â€” interactions: theme toggle, modal, smooth scroll
// smooth scroll for internal links
document.querySelectorAll('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', function(e){
    const href = this.getAttribute('href');
    if(href.length > 1){
      e.preventDefault();
      const el = document.querySelector(href);
      if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
    }
  });
});

// theme toggle (simple)
const themeToggle = document.getElementById('themeToggle');
let dark = true;
function applyTheme(){
  if(dark){
    document.documentElement.style.setProperty('--bg','#050409');
    document.documentElement.style.setProperty('--panel','#0b0f12');
    themeToggle.textContent = 'ðŸŒ™';
  } else {
    document.documentElement.style.setProperty('--bg','#f7f7f8');
    document.documentElement.style.setProperty('--panel','#ffffff');
    themeToggle.textContent = 'â˜€ï¸';
  }
}
themeToggle.addEventListener('click', ()=>{
  dark = !dark;
  applyTheme();
});
applyTheme();

// modal (basic)
const modal = document.getElementById('modal');
const mTitle = document.getElementById('modalTitle');
const mText = document.getElementById('modalText');
const mLink = document.getElementById('modalLink');
const modalClose = document.getElementById('modalClose');

document.querySelectorAll('.cert-card .link, .btn-sm').forEach(btn=>{
  btn.addEventListener('click', (e)=>{
    e.preventDefault();
    mTitle.textContent = 'Preview';
    mText.textContent = 'This is a placeholder preview. Add real links in the repo to enable view.';
    mLink.href = '#';
    modal.setAttribute('aria-hidden','false');
  });
});
modalClose && modalClose.addEventListener('click', ()=> modal.setAttribute('aria-hidden','true'));
modal.addEventListener('click', (e)=> { if(e.target === modal) modal.setAttribute('aria-hidden','true'); });
document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') modal.setAttribute('aria-hidden','true'); });

// set year
document.getElementById('year').textContent = new Date().getFullYear();
